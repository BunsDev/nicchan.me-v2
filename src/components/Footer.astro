---
import FooterWindows from "./FooterWindows.svelte";
import Settings from "./Settings.svelte";

const ariaCurrent = Astro.url.pathname === "/" ? "page" : undefined;
---

<footer class="layout__footer footer" id="footer">
	<nav class="footer__nav" aria-label="Footer">
		<a class="footer__home button--ui" href="/" aria-current={ariaCurrent}>
			<span class="button--ui__content">
				<svg
					class="button__icon"
					xmlns="http://www.w3.org/2000/svg"
					width="16"
					height="16">
					<path fill-rule="evenodd" d="M0 0h16v16H0z" fill="#A75293"></path>
				</svg>
				Home
			</span>
		</a>
		<span class="footer__divider"></span>
		<FooterWindows client:load />
		<Settings client:load />
	</nav>
</footer>

<style lang="scss">
	.footer {
		--button-font-size: 1rem;
		grid-column: span 2;
		inline-size: 100%;
		padding: 0 var(--border-thickness);
		background-color: var(--color-footer-bg);
		view-transition-name: footer;
		z-index: 100;

		@media (max-height: 36em) {
			view-transition-name: none;
		}
	}

	:global(.footer .button--ui, .footer .button--ui__content) {
		--offset: 0;
		block-size: 2.375rem;
		display: flex;
		align-items: center;
		gap: 0.25rem;
		white-space: nowrap;
	}

	:global(.footer:has(.windows__list:empty)) {
		padding: var(--border-thickness);
	}

	.footer__nav {
		display: flex;
		align-items: center;
	}

	.footer__divider {
		display: block;
		margin: 0 0.25rem;
		inline-size: 0.0625rem;
		align-self: stretch;
		block-size: 100%;
	}

	.footer__current {
		padding: 0 0.25rem;
		border: var(--border-thickness) inset;
		background-color: var(--color-footer-bg-active);
	}
</style>
